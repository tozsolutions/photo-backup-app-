import{r as e,a,R as s}from"./vendor-324528e4.js";import{W as t,C as r,B as i,S as n,F as l,a as d,D as c,b as o,T as m,c as x,d as h,e as u,A as g,H as y,f as p,g as b}from"./icons-85a0e1dc.js";import{b as f,a as j,c as v,d as N,f as w}from"./utils-f92b3b4e.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();var k={exports:{}},S={},M=e,z=Symbol.for("react.element"),D=Symbol.for("react.fragment"),P=Object.prototype.hasOwnProperty,A=M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C={key:!0,ref:!0,__self:!0,__source:!0};function T(e,a,s){var t,r={},i=null,n=null;for(t in void 0!==s&&(i=""+s),void 0!==a.key&&(i=""+a.key),void 0!==a.ref&&(n=a.ref),a)P.call(a,t)&&!C.hasOwnProperty(t)&&(r[t]=a[t]);if(e&&e.defaultProps)for(t in a=e.defaultProps)void 0===r[t]&&(r[t]=a[t]);return{$$typeof:z,type:e,key:i,ref:n,props:r,_owner:A.current}}S.Fragment=D,S.jsx=T,S.jsxs=T,k.exports=S;var O=k.exports,F={},W=a;F.createRoot=W.createRoot,F.hydrateRoot=W.hydrateRoot;const E=({devices:e,onDeviceClick:a,isScanning:s})=>{const l=e=>{const a=(new Date).getTime()-e.getTime(),s=Math.floor(a/6e4);if(s<1)return"Şimdi";if(s<60)return`${s} dakika önce`;const t=Math.floor(s/60);return t<24?`${t} saat önce`:e.toLocaleDateString("tr-TR")};return 0!==e.length||s?O.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[O.jsxs("div",{className:"flex items-center justify-between mb-6",children:[O.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Tespit Edilen Cihazlar"}),O.jsxs("div",{className:"flex items-center space-x-2",children:[O.jsx("div",{className:"w-2 h-2 rounded-full "+(s?"bg-green-500 animate-pulse":"bg-gray-400")}),O.jsxs("span",{className:"text-sm text-gray-600",children:[e.length," cihaz bulundu"]})]})]}),O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>{return O.jsxs("div",{onClick:()=>a(e.id,e.name),className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-md transition-all cursor-pointer group",children:[O.jsxs("div",{className:"flex items-start justify-between mb-3",children:[O.jsxs("div",{className:"flex items-center space-x-3",children:[O.jsx("div",{className:`p-2 rounded-lg ${s=e.type,"iOS"===s?"bg-gray-600":"bg-green-600"} text-white`,children:O.jsx(n,{className:"w-6 h-6"})}),O.jsxs("div",{children:[O.jsx("h3",{className:"font-semibold text-gray-800 group-hover:text-blue-600 transition-colors",children:e.name}),O.jsx("p",{className:"text-sm text-gray-600",children:e.type})]})]}),O.jsx("div",{className:"w-3 h-3 rounded-full "+(e.isConnected?"bg-green-500":"bg-gray-300")})]}),O.jsxs("div",{className:"space-y-2",children:[O.jsxs("div",{className:"flex items-center justify-between text-sm",children:[O.jsx("span",{className:"text-gray-600",children:"IP Adresi:"}),O.jsx("span",{className:"font-mono text-gray-800",children:e.ipAddress})]}),O.jsxs("div",{className:"flex items-center justify-between text-sm",children:[O.jsxs("span",{className:"text-gray-600 flex items-center space-x-1",children:[O.jsx(r,{className:"w-3 h-3"}),O.jsx("span",{children:"Son Görülme:"})]}),O.jsx("span",{className:"text-gray-800",children:l(e.lastSeen)})]}),e.batteryLevel&&O.jsxs("div",{className:"flex items-center justify-between text-sm",children:[O.jsxs("span",{className:"text-gray-600 flex items-center space-x-1",children:[O.jsx(i,{className:"w-3 h-3"}),O.jsx("span",{children:"Batarya:"})]}),O.jsxs("span",{className:"text-gray-800",children:["%",e.batteryLevel]})]})]}),O.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:O.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600 group-hover:text-blue-700 transition-colors",children:[O.jsx(t,{className:"w-4 h-4"}),O.jsx("span",{className:"text-sm font-medium",children:"Yedekleme Başlat"})]})})]},e.id);var s})}),s&&0===e.length&&O.jsxs("div",{className:"text-center py-8",children:[O.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),O.jsx("p",{className:"text-gray-600",children:"Cihazlar taranıyor..."})]})]}):O.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[O.jsx(t,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),O.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Cihaz Bulunamadı"}),O.jsx("p",{className:"text-gray-600",children:"Aynı WiFi ağında cihaz bulunamadı. Telefonunuzun WiFi bağlantısını kontrol edin."})]})};var L={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yarım dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yaklaşık 1 saat",other:"yaklaşık {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 gün",other:"{{count}} gün"},aboutXWeeks:{one:"yaklaşık 1 hafta",other:"yaklaşık {{count}} hafta"},xWeeks:{one:"1 hafta",other:"{{count}} hafta"},aboutXMonths:{one:"yaklaşık 1 ay",other:"yaklaşık {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yaklaşık 1 yıl",other:"yaklaşık {{count}} yıl"},xYears:{one:"1 yıl",other:"{{count}} yıl"},overXYears:{one:"1 yıldan fazla",other:"{{count}} yıldan fazla"},almostXYears:{one:"neredeyse 1 yıl",other:"neredeyse {{count}} yıl"}};const _=function(e,a,s){var t,r=L[e];return t="string"==typeof r?r:1===a?r.one:r.other.replace("{{count}}",a.toString()),null!=s&&s.addSuffix?s.comparison&&s.comparison>0?t+" sonra":t+" önce":t};var I={date:f({formats:{full:"d MMMM y EEEE",long:"d MMMM y",medium:"d MMM y",short:"dd.MM.yyyy"},defaultWidth:"full"}),time:f({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:f({formats:{full:"{{date}} 'saat' {{time}}",long:"{{date}} 'saat' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var B={lastWeek:"'geçen hafta' eeee 'saat' p",yesterday:"'dün saat' p",today:"'bugün saat' p",tomorrow:"'yarın saat' p",nextWeek:"eeee 'saat' p",other:"P"};const Y={code:"tr",formatDistance:_,formatLong:I,formatRelative:function(e,a,s,t){return B[e]},localize:{ordinalNumber:function(e,a){return Number(e)+"."},era:j({values:{narrow:["MÖ","MS"],abbreviated:["MÖ","MS"],wide:["Milattan Önce","Milattan Sonra"]},defaultWidth:"wide"}),quarter:j({values:{narrow:["1","2","3","4"],abbreviated:["1Ç","2Ç","3Ç","4Ç"],wide:["İlk çeyrek","İkinci Çeyrek","Üçüncü çeyrek","Son çeyrek"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:j({values:{narrow:["O","Ş","M","N","M","H","T","A","E","E","K","A"],abbreviated:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],wide:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"]},defaultWidth:"wide"}),day:j({values:{narrow:["P","P","S","Ç","P","C","C"],short:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],abbreviated:["Paz","Pzt","Sal","Çar","Per","Cum","Cts"],wide:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},defaultWidth:"wide"}),dayPeriod:j({values:{narrow:{am:"öö",pm:"ös",midnight:"gy",noon:"ö",morning:"sa",afternoon:"ös",evening:"ak",night:"ge"},abbreviated:{am:"ÖÖ",pm:"ÖS",midnight:"gece yarısı",noon:"öğle",morning:"sabah",afternoon:"öğleden sonra",evening:"akşam",night:"gece"},wide:{am:"Ö.Ö.",pm:"Ö.S.",midnight:"gece yarısı",noon:"öğle",morning:"sabah",afternoon:"öğleden sonra",evening:"akşam",night:"gece"}},defaultWidth:"wide",formattingValues:{narrow:{am:"öö",pm:"ös",midnight:"gy",noon:"ö",morning:"sa",afternoon:"ös",evening:"ak",night:"ge"},abbreviated:{am:"ÖÖ",pm:"ÖS",midnight:"gece yarısı",noon:"öğlen",morning:"sabahleyin",afternoon:"öğleden sonra",evening:"akşamleyin",night:"geceleyin"},wide:{am:"ö.ö.",pm:"ö.s.",midnight:"gece yarısı",noon:"öğlen",morning:"sabahleyin",afternoon:"öğleden sonra",evening:"akşamleyin",night:"geceleyin"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:v({matchPattern:/^(\d+)(\.)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:N({matchPatterns:{narrow:/^(mö|ms)/i,abbreviated:/^(mö|ms)/i,wide:/^(milattan önce|milattan sonra)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(^mö|^milattan önce)/i,/(^ms|^milattan sonra)/i]},defaultParseWidth:"any"}),quarter:N({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^[1234]ç/i,wide:/^((i|İ)lk|(i|İ)kinci|üçüncü|son) çeyrek/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i],abbreviated:[/1ç/i,/2ç/i,/3ç/i,/4ç/i],wide:[/^(i|İ)lk çeyrek/i,/(i|İ)kinci çeyrek/i,/üçüncü çeyrek/i,/son çeyrek/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:N({matchPatterns:{narrow:/^[oşmnhtaek]/i,abbreviated:/^(oca|şub|mar|nis|may|haz|tem|ağu|eyl|eki|kas|ara)/i,wide:/^(ocak|şubat|mart|nisan|mayıs|haziran|temmuz|ağustos|eylül|ekim|kasım|aralık)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^o/i,/^ş/i,/^m/i,/^n/i,/^m/i,/^h/i,/^t/i,/^a/i,/^e/i,/^e/i,/^k/i,/^a/i],any:[/^o/i,/^ş/i,/^mar/i,/^n/i,/^may/i,/^h/i,/^t/i,/^ağ/i,/^ey/i,/^ek/i,/^k/i,/^ar/i]},defaultParseWidth:"any"}),day:N({matchPatterns:{narrow:/^[psçc]/i,short:/^(pz|pt|sa|ça|pe|cu|ct)/i,abbreviated:/^(paz|pzt|sal|çar|per|cum|cts)/i,wide:/^(pazar(?!tesi)|pazartesi|salı|çarşamba|perşembe|cuma(?!rtesi)|cumartesi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^p/i,/^p/i,/^s/i,/^ç/i,/^p/i,/^c/i,/^c/i],any:[/^pz/i,/^pt/i,/^sa/i,/^ça/i,/^pe/i,/^cu/i,/^ct/i],wide:[/^pazar(?!tesi)/i,/^pazartesi/i,/^salı/i,/^çarşamba/i,/^perşembe/i,/^cuma(?!rtesi)/i,/^cumartesi/i]},defaultParseWidth:"any"}),dayPeriod:N({matchPatterns:{narrow:/^(öö|ös|gy|ö|sa|ös|ak|ge)/i,any:/^(ö\.?\s?[ös]\.?|öğleden sonra|gece yarısı|öğle|(sabah|öğ|akşam|gece)(leyin))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^ö\.?ö\.?/i,pm:/^ö\.?s\.?/i,midnight:/^(gy|gece yarısı)/i,noon:/^öğ/i,morning:/^sa/i,afternoon:/^öğleden sonra/i,evening:/^ak/i,night:/^ge/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}},H=({localStorageEnabled:a})=>{const[s,t]=e.useState(""),[r,i]=e.useState("all"),[u,g]=e.useState("all"),[y,p]=e.useState([]),[b,f]=e.useState(0);e.useEffect(()=>{a&&j()},[a]);const j=()=>{const e=[{id:"1",name:"IMG_001.jpg",type:"photo",size:2048576,date:new Date,deviceType:"iOS",category:"camera",path:"C:\\Users\\TOZ\\AppData\\Local\\PhotoBackup\\2024-01-15_iOS\\Kamera_Fotograflari\\IMG_001.jpg"},{id:"2",name:"VID_002.mp4",type:"video",size:15728640,date:new Date(Date.now()-864e5),deviceType:"Android",category:"camera",path:"C:\\Users\\TOZ\\AppData\\Local\\PhotoBackup\\2024-01-14_Android\\Kamera_Fotograflari\\VID_002.mp4"},{id:"3",name:"download_image.png",type:"photo",size:1024e3,date:new Date(Date.now()-1728e5),deviceType:"iOS",category:"downloads",path:"C:\\Users\\TOZ\\AppData\\Local\\PhotoBackup\\2024-01-13_iOS\\Alinan_Dosyalar\\download_image.png"}];p(e),f(e.reduce((e,a)=>e+a.size,0))},v=e=>{if(0===e)return"0 Bytes";const a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+["Bytes","KB","MB","GB"][a]},N=e=>{switch(e){case"camera":return O.jsx(h,{className:"w-4 h-4"});case"downloads":return O.jsx(c,{className:"w-4 h-4"});case"sent":return O.jsx(x,{className:"w-4 h-4"});case"deleted":return O.jsx(m,{className:"w-4 h-4"});default:return O.jsx(d,{className:"w-4 h-4"})}},k=e=>{switch(e){case"camera":return"Kamera Fotoğrafları";case"downloads":return"Alınan Dosyalar";case"sent":return"Gönderilen Dosyalar";case"deleted":return"Silinmiş Öğeler";default:return"Bilinmeyen"}},S=y.filter(e=>("all"===r||e.deviceType===r)&&(("all"===u||e.category===u)&&(!s||w(e.date,"yyyy-MM-dd")===s))),M=S.reduce((e,a)=>{const s=w(a.date,"yyyy-MM-dd");return e[s]||(e[s]=[]),e[s].push(a),e},{});return a?O.jsxs("div",{className:"space-y-6",children:[O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[O.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[O.jsxs("div",{className:"flex items-center space-x-2",children:[O.jsx(d,{className:"w-5 h-5 text-blue-600"}),O.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Toplam Dosya"})]}),O.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:y.length})]}),O.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[O.jsxs("div",{className:"flex items-center space-x-2",children:[O.jsx(c,{className:"w-5 h-5 text-green-600"}),O.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Toplam Boyut"})]}),O.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:v(b)})]}),O.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[O.jsxs("div",{className:"flex items-center space-x-2",children:[O.jsx(n,{className:"w-5 h-5 text-purple-600"}),O.jsx("span",{className:"text-sm font-medium text-gray-600",children:"iOS Dosyaları"})]}),O.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:y.filter(e=>"iOS"===e.deviceType).length})]}),O.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[O.jsxs("div",{className:"flex items-center space-x-2",children:[O.jsx(n,{className:"w-5 h-5 text-green-600"}),O.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Android Dosyaları"})]}),O.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:y.filter(e=>"Android"===e.deviceType).length})]})]}),O.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[O.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Filtreler"}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tarih"}),O.jsx("input",{type:"date",value:s,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cihaz Türü"}),O.jsxs("select",{value:r,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[O.jsx("option",{value:"all",children:"Tüm Cihazlar"}),O.jsx("option",{value:"iOS",children:"iOS"}),O.jsx("option",{value:"Android",children:"Android"})]})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kategori"}),O.jsxs("select",{value:u,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[O.jsx("option",{value:"all",children:"Tüm Kategoriler"}),O.jsx("option",{value:"camera",children:"Kamera Fotoğrafları"}),O.jsx("option",{value:"downloads",children:"Alınan Dosyalar"}),O.jsx("option",{value:"sent",children:"Gönderilen Dosyalar"}),O.jsx("option",{value:"deleted",children:"Silinmiş Öğeler"})]})]})]})]}),O.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[O.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Yedeklenen Dosyalar (",S.length,")"]}),0===Object.keys(M).length?O.jsxs("div",{className:"text-center py-8",children:[O.jsx(d,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),O.jsx("p",{className:"text-gray-600",children:"Henüz yedeklenmiş dosya bulunmuyor."})]}):O.jsx("div",{className:"space-y-6",children:Object.entries(M).sort(([e],[a])=>new Date(a).getTime()-new Date(e).getTime()).map(([e,a])=>O.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[O.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:O.jsxs("div",{className:"flex items-center space-x-2",children:[O.jsx(o,{className:"w-4 h-4 text-gray-600"}),O.jsx("span",{className:"font-medium text-gray-800",children:w(new Date(e),"dd MMMM yyyy",{locale:Y})}),O.jsxs("span",{className:"text-sm text-gray-600",children:["(",a.length," dosya)"]})]})}),O.jsx("div",{className:"divide-y divide-gray-100",children:a.map(e=>O.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 transition-colors",children:O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center space-x-3",children:[O.jsx("div",{className:"p-2 rounded-lg "+("iOS"===e.deviceType?"bg-gray-100":"bg-green-100"),children:N(e.category)}),O.jsxs("div",{children:[O.jsx("h4",{className:"font-medium text-gray-800",children:e.name}),O.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[O.jsx("span",{children:k(e.category)}),O.jsx("span",{children:e.deviceType}),O.jsx("span",{children:v(e.size)})]})]})]}),O.jsxs("div",{className:"text-right",children:[O.jsx("p",{className:"text-sm text-gray-600",children:w(e.date,"HH:mm")}),O.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"photo"===e.type?"Fotoğraf":"Video"})]})]})},e.id))})]},e))})]})]}):O.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[O.jsx(l,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),O.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Yerel Depolama Devre Dışı"}),O.jsx("p",{className:"text-gray-600",children:"Dosyaları görüntülemek için önce yerel depolamayı etkinleştirin."})]})},R=({sessions:e})=>0===e.length?null:O.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[O.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Yedekleme Durumu"}),O.jsx("div",{className:"space-y-4",children:e.map(e=>O.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[O.jsxs("div",{className:"flex items-center justify-between mb-3",children:[O.jsxs("div",{className:"flex items-center space-x-3",children:[O.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:O.jsx(n,{className:"w-5 h-5 text-white"})}),O.jsxs("div",{children:[O.jsx("h3",{className:"font-semibold text-gray-800",children:e.deviceName}),O.jsxs("p",{className:"text-sm text-gray-600",children:[e.completedFiles," / ",e.totalFiles," dosya"]})]})]}),O.jsx("div",{className:"flex items-center space-x-2",children:e.isActive?O.jsxs(O.Fragment,{children:[O.jsx(r,{className:"w-5 h-5 text-blue-600 animate-spin"}),O.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Yedekleniyor..."})]}):100===e.progress?O.jsxs(O.Fragment,{children:[O.jsx(u,{className:"w-5 h-5 text-green-600"}),O.jsx("span",{className:"text-sm font-medium text-green-600",children:"Tamamlandı"})]}):O.jsxs(O.Fragment,{children:[O.jsx(g,{className:"w-5 h-5 text-red-600"}),O.jsx("span",{className:"text-sm font-medium text-red-600",children:"Hata"})]})})]}),O.jsxs("div",{className:"mb-3",children:[O.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[O.jsx("span",{children:"İlerleme"}),O.jsxs("span",{children:["%",e.progress]})]}),O.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:O.jsx("div",{className:"h-2 rounded-full transition-all duration-300 "+(e.isActive?"bg-blue-600":100===e.progress?"bg-green-600":"bg-red-600"),style:{width:`${e.progress}%`}})})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[O.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx("span",{className:"text-gray-600",children:"Toplam Dosya"}),O.jsx("span",{className:"font-medium text-gray-800",children:e.totalFiles})]})}),O.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx("span",{className:"text-gray-600",children:"Tamamlanan"}),O.jsx("span",{className:"font-medium text-gray-800",children:e.completedFiles})]})})]}),e.isActive&&O.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:O.jsx("p",{className:"text-sm text-blue-700",children:"📱 Cihazınızdan dosyalar yedekleniyor. Lütfen WiFi bağlantınızı kesmeyin."})}),!e.isActive&&100===e.progress&&O.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:O.jsx("p",{className:"text-sm text-green-700",children:"✅ Yedekleme başarıyla tamamlandı! Dosyalarınız güvenle kaydedildi."})}),!e.isActive&&e.progress<100&&e.progress>0&&O.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:O.jsx("p",{className:"text-sm text-red-700",children:"❌ Yedekleme işlemi yarıda kesildi. WiFi bağlantınızı kontrol edin ve tekrar deneyin."})})]},e.deviceId))}),O.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[O.jsxs("div",{children:[O.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.filter(e=>e.isActive).length}),O.jsx("p",{className:"text-sm text-gray-600",children:"Aktif Yedekleme"})]}),O.jsxs("div",{children:[O.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>!e.isActive&&100===e.progress).length}),O.jsx("p",{className:"text-sm text-gray-600",children:"Tamamlanan"})]}),O.jsxs("div",{children:[O.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.reduce((e,a)=>e+a.totalFiles,0)}),O.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Dosya"})]})]})})]});function K(){const[a,s]=e.useState("devices"),[r,i]=e.useState(!1),[l,d]=e.useState([]),{devices:c,isScanning:o,startScan:m,stopScan:x}=(()=>{const[a,s]=e.useState([]),[t,r]=e.useState(!1),[i,n]=e.useState(null),l=[{id:"ios-device-1",name:"iPhone 14 Pro",type:"iOS",ipAddress:"192.168.1.101",lastSeen:new Date,batteryLevel:85,isConnected:!0},{id:"android-device-1",name:"Samsung Galaxy S23",type:"Android",ipAddress:"192.168.1.102",lastSeen:new Date(Date.now()-3e5),batteryLevel:67,isConnected:!0},{id:"ios-device-2",name:"iPad Air",type:"iOS",ipAddress:"192.168.1.103",lastSeen:new Date(Date.now()-6e5),batteryLevel:92,isConnected:!1}],d=e.useCallback(async()=>{if(t)try{const e=l.filter(()=>Math.random()>.3).map(e=>({...e,lastSeen:new Date(Date.now()-3e5*Math.random()),isConnected:Math.random()>.2,batteryLevel:Math.max(20,Math.min(100,(e.batteryLevel||50)+10*(Math.random()-.5)))}));s(e)}catch(e){}},[t]),c=e.useCallback(()=>{if(t)return;r(!0),d();const e=setInterval(()=>{d()},5e3);n(e)},[t,d]),o=e.useCallback(()=>{r(!1),i&&(clearInterval(i),n(null))},[i]);return e.useEffect(()=>()=>{i&&clearInterval(i)},[i]),e.useEffect(()=>{const e=()=>{navigator.onLine&&!t&&c()},a=setInterval(e,1e4);return e(),()=>clearInterval(a)},[t,c]),{devices:a,isScanning:t,startScan:c,stopScan:o,scanForDevices:d}})();e.useEffect(()=>{const e=localStorage.getItem("localStorageEnabled");return i("true"===e),m(),()=>x()},[m,x]);const h=async(e,a)=>{const s=Math.floor(50*Math.random())+10;for(let t=0;t<=s;t++){await new Promise(e=>setTimeout(e,100+200*Math.random()));a(Math.floor(t/s*100),s,t)}};return O.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:O.jsxs("div",{className:"container mx-auto px-4 py-6",children:[O.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center space-x-3",children:[O.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:O.jsx(n,{className:"w-6 h-6 text-white"})}),O.jsxs("div",{children:[O.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Fotoğraf Yedekleme Sistemi"}),O.jsx("p",{className:"text-gray-600",children:"Otomatik WiFi yedekleme sistemi"})]})]}),O.jsxs("div",{className:"flex items-center space-x-4",children:[O.jsxs("div",{className:"flex items-center space-x-2",children:[O.jsx(t,{className:"w-5 h-5 "+(o?"text-green-500 animate-pulse":"text-gray-400")}),O.jsx("span",{className:"text-sm text-gray-600",children:o?"Cihazlar taranıyor...":"Tarama durduruldu"})]}),r&&O.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[O.jsx(y,{className:"w-5 h-5"}),O.jsx("span",{className:"text-sm",children:"Yerel depolama aktif"})]})]})]})}),O.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:O.jsxs("div",{className:"flex border-b border-gray-200",children:[O.jsxs("button",{onClick:()=>s("devices"),className:"flex-1 py-4 px-6 text-center font-medium transition-colors "+("devices"===a?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600"),children:[O.jsx(n,{className:"w-5 h-5 mx-auto mb-1"}),"Cihaz Listesi"]}),O.jsxs("button",{onClick:()=>s("files"),className:"flex-1 py-4 px-6 text-center font-medium transition-colors "+("files"===a?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600"),children:[O.jsx(y,{className:"w-5 h-5 mx-auto mb-1"}),"Dosya Yöneticisi"]}),O.jsxs("button",{onClick:()=>s("settings"),className:"flex-1 py-4 px-6 text-center font-medium transition-colors "+("settings"===a?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600"),children:[O.jsx(p,{className:"w-5 h-5 mx-auto mb-1"}),"Ayarlar"]})]})}),O.jsxs("div",{className:"space-y-6",children:["devices"===a&&O.jsxs(O.Fragment,{children:[O.jsx(E,{devices:c,onDeviceClick:async(e,a)=>{if(l.find(a=>a.deviceId===e&&a.isActive))return;const s={deviceId:e,deviceName:a,progress:0,totalFiles:0,completedFiles:0,isActive:!0};d(a=>[...a.filter(a=>a.deviceId!==e),s]);try{await h(e,(a,s,t)=>{d(r=>r.map(r=>r.deviceId===e?{...r,progress:a,totalFiles:s,completedFiles:t}:r))}),d(a=>a.map(a=>a.deviceId===e?{...a,isActive:!1,progress:100}:a))}catch(t){d(a=>a.map(a=>a.deviceId===e?{...a,isActive:!1}:a))}},isScanning:o}),l.length>0&&O.jsx(R,{sessions:l})]}),"files"===a&&O.jsx(H,{localStorageEnabled:r}),"settings"===a&&O.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[O.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Sistem Ayarları"}),r?O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[O.jsxs("div",{className:"flex items-center space-x-2",children:[O.jsx(y,{className:"w-5 h-5 text-green-600"}),O.jsx("span",{className:"font-medium text-green-800",children:"Yerel depolama aktif"})]}),O.jsx("p",{className:"text-green-700 mt-2",children:"Yedekleme konumu: C:\\Users\\TOZ\\AppData\\Local\\PhotoBackup"})]}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[O.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[O.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Otomatik Yedekleme"}),O.jsx("p",{className:"text-gray-600 text-sm",children:"WiFi'ye bağlandığınızda otomatik olarak başlar"})]}),O.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[O.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Dosya Organizasyonu"}),O.jsx("p",{className:"text-gray-600 text-sm",children:"Tarih ve cihaz türüne göre klasörlenir"})]})]})]}):O.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:O.jsxs("div",{className:"flex items-start space-x-3",children:[O.jsx(b,{className:"w-6 h-6 text-yellow-600 mt-0.5"}),O.jsxs("div",{className:"flex-1",children:[O.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Yerel Depolamayı Etkinleştirin"}),O.jsx("p",{className:"text-yellow-700 mb-4",children:"Fotoğraflarınızın PC'nizde kalıcı olarak saklanması için yerel depolamayı etkinleştirmeniz gerekiyor. Bu işlem sonrasında tüm yedeklemeler C:\\Users\\TOZ\\AppData\\Local\\PhotoBackup klasöründe saklanacak."}),O.jsx("button",{onClick:()=>{i(!0),localStorage.setItem("localStorageEnabled","true");localStorage.setItem("backupDirectories",JSON.stringify(["C:\\Users\\TOZ\\AppData\\Local\\PhotoBackup","C:\\Users\\TOZ\\AppData\\Local\\PhotoBackup\\iOS","C:\\Users\\TOZ\\AppData\\Local\\PhotoBackup\\Android"]))},className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors",children:"Yerel Depolamayı Etkinleştir"})]})]})})]})]})]})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(()=>{}).catch(()=>{})}),F.createRoot(document.getElementById("root")).render(O.jsx(s.StrictMode,{children:O.jsx(K,{})}));
